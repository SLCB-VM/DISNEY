import{j as o,r as a,i as _e,u as D,f as qe,L as Ne,l as De}from"./index-rJX80wUs.js";import{u as ve,L as we,E as Ce,C as Re}from"./ErrorBlock-sndPsHm9.js";import{P as me,O as ee}from"./MotionContainer-SYDlRwkY.js";import{G as he,I as Ge}from"./Grid-Wt7ku0Zj.js";import{G as Qe,u as ze,f as ge,d as te,h as Ue,r as Ve,i as Ke,c as ye,s as Ie}from"./createSvgIcon-1c0eR0-L.js";import{c as Ze,_ as je,d as c,x as Je,T as Xe,m as Ye,l as et,n as Ee,p as tt,g as xe,i as ne,k as nt,y as ot}from"./useTheme-fyyMABpV.js";import{G as rt,T as it}from"./GridContainer-cPI5odCb.js";function at(e){return e==null||Object.keys(e).length===0}function st(e){const{styles:t,defaultTheme:n={}}=e,i=typeof t=="function"?r=>t(at(r)?n:r):t;return o.jsx(Qe,{styles:i})}function lt({styles:e,themeId:t,defaultTheme:n={}}){const i=Ze(n),r=typeof e=="function"?e(t&&i[t]||i):e;return o.jsx(st,{styles:r})}const ut=["onChange","maxRows","minRows","style","value"];function N(e){return parseInt(e,10)||0}const dt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function be(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const ct=a.forwardRef(function(t,n){const{onChange:i,maxRows:r,minRows:u=1,style:R,value:x}=t,S=je(t,ut),{current:v}=a.useRef(x!=null),b=a.useRef(null),E=ze(n,b),s=a.useRef(null),h=a.useRef(0),[A,T]=a.useState({outerHeightStyle:0}),P=a.useCallback(()=>{const p=b.current,f=ge(p).getComputedStyle(p);if(f.width==="0px")return{outerHeightStyle:0};const m=s.current;m.style.width=f.width,m.value=p.value||t.placeholder||"x",m.value.slice(-1)===`
`&&(m.value+=" ");const w=f.boxSizing,F=N(f.paddingBottom)+N(f.paddingTop),I=N(f.borderBottomWidth)+N(f.borderTopWidth),k=m.scrollHeight;m.value="x";const B=m.scrollHeight;let C=k;u&&(C=Math.max(Number(u)*B,C)),r&&(C=Math.min(Number(r)*B,C)),C=Math.max(C,B);const Q=C+(w==="border-box"?F+I:0),M=Math.abs(C-k)<=1;return{outerHeightStyle:Q,overflow:M}},[r,u,t.placeholder]),O=(p,z)=>{const{outerHeightStyle:f,overflow:m}=z;return h.current<20&&(f>0&&Math.abs((p.outerHeightStyle||0)-f)>1||p.overflow!==m)?(h.current+=1,{overflow:m,outerHeightStyle:f}):p},g=a.useCallback(()=>{const p=P();be(p)||T(z=>O(z,p))},[P]);te(()=>{const p=()=>{const k=P();be(k)||_e.flushSync(()=>{T(B=>O(B,k))})},z=()=>{h.current=0,p()};let f;const m=Ue(z),w=b.current,F=ge(w);F.addEventListener("resize",m);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(z),I.observe(w)),()=>{m.clear(),cancelAnimationFrame(f),F.removeEventListener("resize",m),I&&I.disconnect()}},[P]),te(()=>{g()}),a.useEffect(()=>{h.current=0},[x]);const G=p=>{h.current=0,v||g(),i&&i(p)};return o.jsxs(a.Fragment,{children:[o.jsx("textarea",c({value:x,onChange:G,ref:E,rows:u,style:c({height:A.outerHeightStyle,overflow:A.overflow?"hidden":void 0},R)},S)),o.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:s,tabIndex:-1,style:c({},dt.shadow,R,{paddingTop:0,paddingBottom:0})})]})});var re={},pt=Ke;Object.defineProperty(re,"__esModule",{value:!0});var ke=re.default=void 0,ft=pt(Ve()),mt=o,ht=(0,ft.default)((0,mt.jsx)("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");ke=re.default=ht;function gt({props:e,states:t,muiFormControl:n}){return t.reduce((i,r)=>(i[r]=e[r],n&&typeof e[r]>"u"&&(i[r]=n[r]),i),{})}const yt=a.createContext(void 0),Ae=yt;function xt(){return a.useContext(Ae)}function bt(e){return o.jsx(lt,c({},e,{defaultTheme:Je,themeId:Xe}))}function Se(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function St(e,t=!1){return e&&(Se(e.value)&&e.value!==""||t&&Se(e.defaultValue)&&e.defaultValue!=="")}function vt(e){return et("MuiInputBase",e)}const wt=Ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),oe=wt,Ct=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Rt=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ne(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},zt=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},It=e=>{const{classes:t,color:n,disabled:i,error:r,endAdornment:u,focused:R,formControl:x,fullWidth:S,hiddenLabel:v,multiline:b,readOnly:E,size:s,startAdornment:h,type:A}=e,T={root:["root",`color${ne(n)}`,i&&"disabled",r&&"error",S&&"fullWidth",R&&"focused",x&&"formControl",s&&s!=="medium"&&`size${ne(s)}`,b&&"multiline",h&&"adornedStart",u&&"adornedEnd",v&&"hiddenLabel",E&&"readOnly"],input:["input",i&&"disabled",A==="search"&&"inputTypeSearch",b&&"inputMultiline",s==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",h&&"inputAdornedStart",u&&"inputAdornedEnd",E&&"readOnly"]};return nt(T,vt,t)},jt=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Rt})(({theme:e,ownerState:t})=>c({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${oe.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&c({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Et=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:zt})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",i=c({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),r={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return c({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${oe.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${oe.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),kt=o.jsx(bt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),At=a.forwardRef(function(t,n){var i;const r=tt({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:R,autoFocus:x,className:S,components:v={},componentsProps:b={},defaultValue:E,disabled:s,disableInjectingGlobalStyles:h,endAdornment:A,fullWidth:T=!1,id:P,inputComponent:O="input",inputProps:g={},inputRef:G,maxRows:p,minRows:z,multiline:f=!1,name:m,onBlur:w,onChange:F,onClick:I,onFocus:k,onKeyDown:B,onKeyUp:C,placeholder:Q,readOnly:M,renderSuffix:ie,rows:$,slotProps:ae={},slots:se={},startAdornment:W,type:le="text",value:Be}=r,Te=je(r,Ct),_=g.value!=null?g.value:Be,{current:U}=a.useRef(_!=null),H=a.useRef(),Pe=a.useCallback(l=>{},[]),He=ze(H,G,g.ref,Pe),[V,K]=a.useState(!1),d=xt(),y=gt({props:r,muiFormControl:d,states:["color","disabled","error","hiddenLabel","size","required","filled"]});y.focused=d?d.focused:V,a.useEffect(()=>{!d&&s&&V&&(K(!1),w&&w())},[d,s,V,w]);const Z=d&&d.onFilled,J=d&&d.onEmpty,L=a.useCallback(l=>{St(l)?Z&&Z():J&&J()},[Z,J]);te(()=>{U&&L({value:_})},[_,L,U]);const Me=l=>{if(y.disabled){l.stopPropagation();return}k&&k(l),g.onFocus&&g.onFocus(l),d&&d.onFocus?d.onFocus(l):K(!0)},We=l=>{w&&w(l),g.onBlur&&g.onBlur(l),d&&d.onBlur?d.onBlur(l):K(!1)},Le=(l,...pe)=>{if(!U){const fe=l.target||H.current;if(fe==null)throw new Error(ot(1));L({value:fe.value})}g.onChange&&g.onChange(l,...pe),F&&F(l,...pe)};a.useEffect(()=>{L(H.current)},[]);const Oe=l=>{H.current&&l.currentTarget===l.target&&H.current.focus(),I&&I(l)};let X=O,j=g;f&&X==="input"&&($?j=c({type:void 0,minRows:$,maxRows:$},j):j=c({type:void 0,maxRows:p,minRows:z},j),X=ct);const $e=l=>{L(l.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};a.useEffect(()=>{d&&d.setAdornedStart(!!W)},[d,W]);const q=c({},r,{color:y.color||"primary",disabled:y.disabled,endAdornment:A,error:y.error,focused:y.focused,formControl:d,fullWidth:T,hiddenLabel:y.hiddenLabel,multiline:f,size:y.size,startAdornment:W,type:le}),ue=It(q),de=se.root||v.Root||jt,Y=ae.root||b.root||{},ce=se.input||v.Input||Et;return j=c({},j,(i=ae.input)!=null?i:b.input),o.jsxs(a.Fragment,{children:[!h&&kt,o.jsxs(de,c({},Y,!ye(de)&&{ownerState:c({},q,Y.ownerState)},{ref:n,onClick:Oe},Te,{className:xe(ue.root,Y.className,S,M&&"MuiInputBase-readOnly"),children:[W,o.jsx(Ae.Provider,{value:null,children:o.jsx(ce,c({ownerState:q,"aria-invalid":y.error,"aria-describedby":u,autoComplete:R,autoFocus:x,defaultValue:E,disabled:y.disabled,id:P,onAnimationStart:$e,name:m,placeholder:Q,readOnly:M,required:y.required,rows:$,value:_,onKeyDown:B,onKeyUp:C,type:le},j,!ye(ce)&&{as:X,ownerState:c({},q,j.ownerState)},{ref:He,className:xe(ue.input,j.className,M&&"MuiInputBase-readOnly"),onBlur:We,onChange:Le,onFocus:Me}))}),A,ie?ie(c({},y,{startAdornment:W})):null]}))]})}),Ft=At,Fe=({onChange:e,query:t})=>o.jsxs(Bt,{children:[o.jsx(Tt,{}),o.jsx(Pt,{id:"searchInput",value:t,onChange:e,placeholder:"Search for movies or series...",inputProps:{"aria-label":"Search for movies or series"},fullWidth:!0})]});Fe.propTypes={onChange:me.func,query:me.string};const Bt=D.div`
	display: flex;
	align-items: center;
	width: 85%;
	margin: 20px 0;
	padding: 10px;
	background-color: rgb(75, 78, 90);
	border-radius: 8px;

	@media (min-width: 700px) {
		width: 90%;
		margin: 40px 0;
		padding: 15px;
	}

	@media (min-width: 1200px) {
		width: 95%;
		margin: 60px 0;
		padding: 20px;
	}
`,Tt=Ie(ke)({marginRight:"10px",fontSize:"27px"}),Pt=Ie(Ft)({color:"white",fontSize:"16px","@media (min-width: 700px)":{fontSize:"18px"},"@media (min-width: 1200px)":{fontSize:"20px"}}),Ht=()=>{const{data:e,isPending:t,isError:n}=ve({queryKey:["homepage-data"],queryFn:({signal:r})=>qe({signal:r})});let i=[];if(e){const r=e.find(u=>u.category==="upcoming-movies");r&&(i=r.data.results||[])}return o.jsxs(Mt,{children:[t&&o.jsx(we,{}),n&&o.jsx(Ce,{message:"Something went wrong, please try again later."}),e&&o.jsx(rt,{movies:i,title:"Explore",path:"movie"})]})},Mt=D(Re)`
	padding-top: 10px;
`,Qt=()=>{const e=localStorage.getItem("searchQuery"),[t,n]=a.useState(e||""),[i,r]=a.useState(e||""),[u,R]=a.useState(!0),x=t.trim().length>0;a.useEffect(()=>{if(localStorage.setItem("searchQuery",t),x){const s=setTimeout(()=>{R(!1),r(t.trim())},1e3);return()=>clearTimeout(s)}else R(!0)},[t,x]);const{data:S,isLoading:v,isError:b}=ve({queryKey:["search-data",i],queryFn:({signal:s})=>De({signal:s,query:i}),enabled:!u&&x}),E=s=>{n(s.target.value)};return o.jsxs(Wt,{children:[o.jsx(Fe,{onChange:E,query:t}),o.jsxs(Lt,{children:[!u&&o.jsx(ee,{children:o.jsxs(o.Fragment,{children:[o.jsxs(it,{children:["Search results for ",t]}),v&&o.jsx(we,{}),b&&o.jsx(Ce,{message:"Something went wrong, please try again later."}),(S==null?void 0:S.length)>0?o.jsx(ee,{children:o.jsx(he,{container:!0,spacing:2,columns:12,alignItems:"center",children:S.map((s,h)=>o.jsx(he,{item:!0,xs:12,sm:4,md:3,lg:2,children:o.jsx(Ne,{to:`/disney-plus-clone/${s.media_type}/${s.id}`,children:o.jsx(Ge,{children:o.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:s.title||s.name})},h)},h)},h))})}):!v&&o.jsx("p",{children:"No movie or series containing your search term was found."})]})}),u&&o.jsx(ee,{children:o.jsx(Ht,{})})]})]})},Wt=D(Re)`
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	align-content: start;
`,Lt=D.section`
	padding: 0 60px 60px;
	width: 100%;
	text-align: center;
`;export{Qt as default};
