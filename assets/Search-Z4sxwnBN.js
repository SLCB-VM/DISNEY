import{j as n,r as a,i as Ne,u as $,L as we,f as De,l as Ge}from"./index-pRQnOoee.js";import{u as ve,L as Ce,E as Re,C as ze}from"./ErrorBlock-kjEH89pw.js";import{P as he,O as te}from"./MotionContainer-XRfYv6sp.js";import{G as Qe,u as je,f as ge,d as ne,h as Ue,r as Ve,i as Ke,c as xe,s as Ie}from"./createSvgIcon-TNodNTFV.js";import{c as Ze,_ as Ee,d as c,x as Je,T as Xe,m as Ye,l as et,n as ke,p as tt,g as ye,i as oe,k as nt,y as ot}from"./useTheme-mRHuKwub.js";import{G,I as Fe}from"./Grid-gu-tRDtp.js";function rt(e){return e==null||Object.keys(e).length===0}function it(e){const{styles:t,defaultTheme:r={}}=e,i=typeof t=="function"?o=>t(rt(o)?r:o):t;return n.jsx(Qe,{styles:i})}function at({styles:e,themeId:t,defaultTheme:r={}}){const i=Ze(r),o=typeof e=="function"?e(t&&i[t]||i):e;return n.jsx(it,{styles:o})}const st=["onChange","maxRows","minRows","style","value"];function D(e){return parseInt(e,10)||0}const lt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function be(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const ut=a.forwardRef(function(t,r){const{onChange:i,maxRows:o,minRows:s=1,style:R,value:y}=t,S=Ee(t,st),{current:w}=a.useRef(y!=null),b=a.useRef(null),E=je(r,b),l=a.useRef(null),h=a.useRef(0),[F,T]=a.useState({outerHeightStyle:0}),P=a.useCallback(()=>{const p=b.current,f=ge(p).getComputedStyle(p);if(f.width==="0px")return{outerHeightStyle:0};const m=l.current;m.style.width=f.width,m.value=p.value||t.placeholder||"x",m.value.slice(-1)===`
`&&(m.value+=" ");const v=f.boxSizing,A=D(f.paddingBottom)+D(f.paddingTop),j=D(f.borderBottomWidth)+D(f.borderTopWidth),k=m.scrollHeight;m.value="x";const B=m.scrollHeight;let C=k;s&&(C=Math.max(Number(s)*B,C)),o&&(C=Math.min(Number(o)*B,C)),C=Math.max(C,B);const U=C+(v==="border-box"?A+j:0),M=Math.abs(C-k)<=1;return{outerHeightStyle:U,overflow:M}},[o,s,t.placeholder]),O=(p,z)=>{const{outerHeightStyle:f,overflow:m}=z;return h.current<20&&(f>0&&Math.abs((p.outerHeightStyle||0)-f)>1||p.overflow!==m)?(h.current+=1,{overflow:m,outerHeightStyle:f}):p},g=a.useCallback(()=>{const p=P();be(p)||T(z=>O(z,p))},[P]);ne(()=>{const p=()=>{const k=P();be(k)||Ne.flushSync(()=>{T(B=>O(B,k))})},z=()=>{h.current=0,p()};let f;const m=Ue(z),v=b.current,A=ge(v);A.addEventListener("resize",m);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(z),j.observe(v)),()=>{m.clear(),cancelAnimationFrame(f),A.removeEventListener("resize",m),j&&j.disconnect()}},[P]),ne(()=>{g()}),a.useEffect(()=>{h.current=0},[y]);const Q=p=>{h.current=0,w||g(),i&&i(p)};return n.jsxs(a.Fragment,{children:[n.jsx("textarea",c({value:y,onChange:Q,ref:E,rows:s,style:c({height:F.outerHeightStyle,overflow:F.overflow?"hidden":void 0},R)},S)),n.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:l,tabIndex:-1,style:c({},lt.shadow,R,{paddingTop:0,paddingBottom:0})})]})});var ie={},dt=Ke;Object.defineProperty(ie,"__esModule",{value:!0});var Ae=ie.default=void 0,ct=dt(Ve()),pt=n,ft=(0,ct.default)((0,pt.jsx)("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");Ae=ie.default=ft;function mt({props:e,states:t,muiFormControl:r}){return t.reduce((i,o)=>(i[o]=e[o],r&&typeof e[o]>"u"&&(i[o]=r[o]),i),{})}const ht=a.createContext(void 0),Be=ht;function gt(){return a.useContext(Be)}function xt(e){return n.jsx(at,c({},e,{defaultTheme:Je,themeId:Xe}))}function Se(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function yt(e,t=!1){return e&&(Se(e.value)&&e.value!==""||t&&Se(e.defaultValue)&&e.defaultValue!=="")}function bt(e){return et("MuiInputBase",e)}const St=Ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),re=St,wt=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],vt=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${oe(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},Ct=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Rt=e=>{const{classes:t,color:r,disabled:i,error:o,endAdornment:s,focused:R,formControl:y,fullWidth:S,hiddenLabel:w,multiline:b,readOnly:E,size:l,startAdornment:h,type:F}=e,T={root:["root",`color${oe(r)}`,i&&"disabled",o&&"error",S&&"fullWidth",R&&"focused",y&&"formControl",l&&l!=="medium"&&`size${oe(l)}`,b&&"multiline",h&&"adornedStart",s&&"adornedEnd",w&&"hiddenLabel",E&&"readOnly"],input:["input",i&&"disabled",F==="search"&&"inputTypeSearch",b&&"inputMultiline",l==="small"&&"inputSizeSmall",w&&"inputHiddenLabel",h&&"inputAdornedStart",s&&"inputAdornedEnd",E&&"readOnly"]};return nt(T,bt,t)},zt=ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:vt})(({theme:e,ownerState:t})=>c({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${re.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&c({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),jt=ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ct})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",i=c({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return c({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${re.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${re.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),It=n.jsx(xt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Et=a.forwardRef(function(t,r){var i;const o=tt({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:R,autoFocus:y,className:S,components:w={},componentsProps:b={},defaultValue:E,disabled:l,disableInjectingGlobalStyles:h,endAdornment:F,fullWidth:T=!1,id:P,inputComponent:O="input",inputProps:g={},inputRef:Q,maxRows:p,minRows:z,multiline:f=!1,name:m,onBlur:v,onChange:A,onClick:j,onFocus:k,onKeyDown:B,onKeyUp:C,placeholder:U,readOnly:M,renderSuffix:ae,rows:_,slotProps:se={},slots:le={},startAdornment:W,type:ue="text",value:Pe}=o,He=Ee(o,wt),q=g.value!=null?g.value:Pe,{current:V}=a.useRef(q!=null),H=a.useRef(),Me=a.useCallback(u=>{},[]),We=je(H,Q,g.ref,Me),[K,Z]=a.useState(!1),d=gt(),x=mt({props:o,muiFormControl:d,states:["color","disabled","error","hiddenLabel","size","required","filled"]});x.focused=d?d.focused:K,a.useEffect(()=>{!d&&l&&K&&(Z(!1),v&&v())},[d,l,K,v]);const J=d&&d.onFilled,X=d&&d.onEmpty,L=a.useCallback(u=>{yt(u)?J&&J():X&&X()},[J,X]);ne(()=>{V&&L({value:q})},[q,L,V]);const Le=u=>{if(x.disabled){u.stopPropagation();return}k&&k(u),g.onFocus&&g.onFocus(u),d&&d.onFocus?d.onFocus(u):Z(!0)},$e=u=>{v&&v(u),g.onBlur&&g.onBlur(u),d&&d.onBlur?d.onBlur(u):Z(!1)},Oe=(u,...fe)=>{if(!V){const me=u.target||H.current;if(me==null)throw new Error(ot(1));L({value:me.value})}g.onChange&&g.onChange(u,...fe),A&&A(u,...fe)};a.useEffect(()=>{L(H.current)},[]);const _e=u=>{H.current&&u.currentTarget===u.target&&H.current.focus(),j&&j(u)};let Y=O,I=g;f&&Y==="input"&&(_?I=c({type:void 0,minRows:_,maxRows:_},I):I=c({type:void 0,maxRows:p,minRows:z},I),Y=ut);const qe=u=>{L(u.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};a.useEffect(()=>{d&&d.setAdornedStart(!!W)},[d,W]);const N=c({},o,{color:x.color||"primary",disabled:x.disabled,endAdornment:F,error:x.error,focused:x.focused,formControl:d,fullWidth:T,hiddenLabel:x.hiddenLabel,multiline:f,size:x.size,startAdornment:W,type:ue}),de=Rt(N),ce=le.root||w.Root||zt,ee=se.root||b.root||{},pe=le.input||w.Input||jt;return I=c({},I,(i=se.input)!=null?i:b.input),n.jsxs(a.Fragment,{children:[!h&&It,n.jsxs(ce,c({},ee,!xe(ce)&&{ownerState:c({},N,ee.ownerState)},{ref:r,onClick:_e},He,{className:ye(de.root,ee.className,S,M&&"MuiInputBase-readOnly"),children:[W,n.jsx(Be.Provider,{value:null,children:n.jsx(pe,c({ownerState:N,"aria-invalid":x.error,"aria-describedby":s,autoComplete:R,autoFocus:y,defaultValue:E,disabled:x.disabled,id:P,onAnimationStart:qe,name:m,placeholder:U,readOnly:M,required:x.required,rows:_,value:q,onKeyDown:B,onKeyUp:C,type:ue},I,!xe(pe)&&{as:Y,ownerState:c({},N,I.ownerState)},{ref:We,className:ye(de.input,I.className,M&&"MuiInputBase-readOnly"),onBlur:$e,onChange:Oe,onFocus:Le}))}),F,ae?ae(c({},x,{startAdornment:W})):null]}))]})}),kt=Et,Te=({onChange:e,query:t})=>n.jsxs(Ft,{children:[n.jsx(At,{}),n.jsx(Bt,{id:"searchInput",value:t,onChange:e,placeholder:"Search for movies or series...",inputProps:{"aria-label":"Search for movies or series"},fullWidth:!0})]});Te.propTypes={onChange:he.func,query:he.string};const Ft=$.div`
	display: flex;
	align-items: center;
	width: 85%;
	margin: 20px 0;
	padding: 10px;
	background-color: rgb(75, 78, 90);
	border-radius: 8px;

	@media (min-width: 700px) {
		width: 90%;
		margin: 40px 0;
		padding: 15px;
	}

	@media (min-width: 1200px) {
		width: 95%;
		margin: 60px 0;
		padding: 20px;
	}
`,At=Ie(Ae)({marginRight:"10px",fontSize:"27px"}),Bt=Ie(kt)({color:"white",fontSize:"16px","@media (min-width: 700px)":{fontSize:"18px"},"@media (min-width: 1200px)":{fontSize:"20px"}}),Tt=()=>{const{data:e,isPending:t,isError:r}=ve({queryKey:["movie-data"],queryFn:({signal:o})=>De({signal:o}),staleTime:2e4});let i=[];if(e){const o=e.find(s=>s.category==="upcoming-movies");o&&(i=o.data.results||[])}return n.jsxs(Pt,{children:[t&&n.jsx(Ce,{}),r&&n.jsx(Re,{message:"Something went wrong, please try again later."}),e&&n.jsxs(n.Fragment,{children:[n.jsx(Ht,{children:"Explore"}),n.jsx(G,{container:!0,spacing:2,columns:12,alignItems:"center",children:i.map((o,s)=>n.jsx(G,{item:!0,xs:12,sm:4,md:3,lg:2,children:n.jsx(we,{to:`/disney-plus-clone/movie/${o.id}`,children:n.jsx(Fe,{children:n.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${o.poster_path}`,alt:o.title||o.name})},s)},s)},s))})]})]})},Pt=$(ze)`
	padding-top: 10px;
`,Ht=$.h2`
	text-align: left;
	font-weight: bold;
	font-size: 18px;

	@media (min-width: 600px) {
		font-size: 20px;
	}
`,Dt=()=>{const e=localStorage.getItem("searchQuery"),[t,r]=a.useState(e||""),[i,o]=a.useState(e||""),[s,R]=a.useState(!0),y=t.trim().length>0;a.useEffect(()=>{if(localStorage.setItem("searchQuery",t),y){const l=setTimeout(()=>{R(!1),o(t.trim())},1e3);return()=>clearTimeout(l)}else R(!0)},[t,y]);const{data:S,isLoading:w,isError:b}=ve({queryKey:["search-data",i],queryFn:({signal:l})=>Ge({signal:l,query:i}),staleTime:1e4,enabled:!s&&y}),E=l=>{r(l.target.value)};return n.jsxs(Mt,{children:[n.jsx(Te,{onChange:E,query:t}),n.jsxs(Wt,{children:[!s&&n.jsx(te,{children:n.jsxs(n.Fragment,{children:[w&&n.jsx(Ce,{}),b&&n.jsx(Re,{message:"Something went wrong, please try again later."}),(S==null?void 0:S.length)>0?n.jsx(te,{children:n.jsx(G,{container:!0,spacing:2,columns:12,alignItems:"center",children:S.map((l,h)=>n.jsx(G,{item:!0,xs:12,sm:4,md:3,lg:2,children:n.jsx(we,{to:`/disney-plus-clone/${l.media_type}/${l.id}`,children:n.jsx(Fe,{children:n.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${l.poster_path}`,alt:l.title||l.name})},h)},h)},h))})}):!w&&n.jsx("p",{children:"No movie or series containing your search term was found."})]})}),s&&n.jsx(te,{children:n.jsx(Tt,{})})]})]})},Mt=$(ze)`
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	align-content: start;
`,Wt=$.section`
	padding: 0 60px 60px;
	width: 100%;
	text-align: center;
`;export{Dt as default};
